We use the Sieve of Erastothenes to generate and store all primes below one million in a set. For each prime, we manually test all rotations of its digits. If every possible rotation is also prime (i.e. in our set), then we increment our counter.