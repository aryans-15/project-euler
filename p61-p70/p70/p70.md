We use a sieve to generate $\phi(i)$ for all $1 \leq i \leq 10^7$ in $O(n\log\log n)$. Then, we check all possibilities where $i = \phi(i)$ and find the one where $\frac{i}{\phi(i)}$ is minimized.